{% extends "base.html" %}

{% block title %}Create Task - Staff Scheduler{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{{ url_for('tasks.index') }}" class="inline-flex items-center text-gray-400 hover:text-gray-200 mb-4">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
        </svg>
        Back to Tasks
    </a>
    <h1 class="text-2xl font-bold text-gray-100">Create New Task</h1>
    <p class="text-gray-400 mt-1">Assign a new task to yourself or a team member</p>
</div>

<form method="POST" class="max-w-2xl">
    <div class="bg-dark-800 rounded-lg border border-dark-600 p-6 space-y-6">
        <!-- Title -->
        <div>
            <label for="title" class="block text-sm font-medium text-gray-300 mb-2">Task Title *</label>
            <input type="text" id="title" name="title" required
                class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-blue-500"
                placeholder="Enter task title">
        </div>
        
        <!-- Description -->
        <div>
            <label for="description" class="block text-sm font-medium text-gray-300 mb-2">Description</label>
            <textarea id="description" name="description" rows="4"
                class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-blue-500"
                placeholder="Describe what needs to be done..."></textarea>
        </div>
        
        <!-- Assignee & Priority Row -->
        <div class="grid gap-4 sm:grid-cols-2">
            <div>
                <label for="assigned_to" class="block text-sm font-medium text-gray-300 mb-2">Assign To</label>
                <select id="assigned_to" name="assigned_to"
                    class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 focus:outline-none focus:border-blue-500">
                    <option value="">Unassigned</option>
                    <option value="{{ current_user.id }}">Myself</option>
                    <optgroup label="Team Members">
                        {% for user in users %}
                        {% if user.id != current_user.id %}
                        <option value="{{ user.id }}">{{ user.full_name }}</option>
                        {% endif %}
                        {% endfor %}
                    </optgroup>
                </select>
            </div>
            
            <div>
                <label for="priority" class="block text-sm font-medium text-gray-300 mb-2">Priority</label>
                <select id="priority" name="priority"
                    class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 focus:outline-none focus:border-blue-500">
                    <option value="low">âšª Low</option>
                    <option value="medium" selected>ðŸŸ¡ Medium</option>
                    <option value="high">ðŸŸ  High</option>
                    <option value="urgent">ðŸ”´ Urgent</option>
                </select>
            </div>
        </div>
        
        <!-- Due Date & Time Row -->
        <div class="grid gap-4 sm:grid-cols-2">
            <div>
                <label for="due_date" class="block text-sm font-medium text-gray-300 mb-2">Due Date</label>
                <input type="date" id="due_date" name="due_date"
                    class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 focus:outline-none focus:border-blue-500">
            </div>
            
            <div>
                <label for="due_time" class="block text-sm font-medium text-gray-300 mb-2">Due Time</label>
                <input type="time" id="due_time" name="due_time"
                    class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 focus:outline-none focus:border-blue-500">
            </div>
        </div>
        
        <!-- Category -->
        <div>
            <label for="category" class="block text-sm font-medium text-gray-300 mb-2">Category</label>
            <input type="text" id="category" name="category" list="categories"
                class="w-full px-4 py-2.5 bg-dark-700 border border-dark-500 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:border-blue-500"
                placeholder="e.g., Operations, Admin, IT">
            <datalist id="categories">
                <option value="Operations">
                <option value="Admin">
                <option value="IT">
                <option value="HR">
                <option value="Finance">
                <option value="General">
            </datalist>
        </div>
    </div>
    
    <div class="mt-6 flex gap-4">
        <button type="submit" class="px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors">
            Create Task
        </button>
        <a href="{{ url_for('tasks.index') }}" class="px-6 py-2.5 bg-dark-600 hover:bg-dark-500 text-gray-200 font-medium rounded-lg transition-colors">
            Cancel
        </a>
    </div>
</form>
{% endblock %}
